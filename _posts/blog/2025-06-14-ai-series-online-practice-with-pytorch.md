---
layout: post
title: å­¦ä¹ LLMï¼Œåœ¨çº¿ç¼–å†™è°ƒè¯•PyTorchä»£ç å¹³å°æ¨è
description: åœ¨çº¿ç»ƒä¹ 
published: true
category: AI
---

> å­¦ä¹  LLM æ—¶ï¼Œéœ€è¦åœ¨çº¿ç¼–å†™ PyTorch ä»£ç ï¼Œå¹¶ä¸”è°ƒè¯•ï¼Œæœ‰å“ªäº›åœ°æ–¹å¯ä»¥åœ¨çº¿ç¼–å†™å‘¢ï¼Ÿ HuggingFace å¯ä»¥å—ï¼Ÿ



å¦‚æœä½ æ­£åœ¨å­¦ä¹ å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å¹¶å¸Œæœ›åœ¨çº¿ç¼–å†™å’Œè°ƒè¯• PyTorch ä»£ç ï¼Œç›®å‰ç¡®å®æœ‰å¤šä¸ªå¹³å°æ”¯æŒè¿™ç§éœ€æ±‚ï¼Œè€Œ Hugging Face ç»“åˆ Google Colab æ˜¯æœ€ä¸»æµã€æœ€é€‚åˆåˆå­¦è€…çš„æ–¹æ¡ˆä¹‹ä¸€ã€‚ä¸‹é¢ä»ä¸åŒè§’åº¦ä¸ºä½ æ¢³ç†å¯è¡Œçš„å¹³å°åŠå…¶ç‰¹ç‚¹ï¼š

### ğŸš€ ä¸€ã€Hugging Face + Google Colabï¼ˆæ¨èé¦–é€‰ï¼‰
Hugging Face æœ¬èº«å¹¶ä¸æä¾›åœ¨çº¿çš„ç¼–ç¨‹ç¯å¢ƒï¼Œä½†å®ƒæ·±åº¦é›†æˆäº† Google Colabï¼Œæ”¯æŒä¸€é”®åœ¨ Colab ä¸­æ‰“å¼€å¹¶è¿è¡Œ Notebookï¼Œé€‚åˆå­¦ä¹  LLM å’Œ PyTorch è°ƒè¯•ï¼š

1. **å®˜æ–¹ Notebook èµ„æºåº“**  
   Hugging Face æä¾›äº†å¤§é‡å®˜æ–¹ Notebookï¼Œæ¶µç›–æ–‡æœ¬åˆ†ç±»ã€æ–‡æœ¬ç”Ÿæˆã€æ¨¡å‹å¾®è°ƒç­‰ä»»åŠ¡ï¼Œæ¯ä¸ª Notebook å³ä¸Šè§’éƒ½æœ‰ **â€œOpen in Colabâ€** æŒ‰é’®ï¼Œç‚¹å‡»å³å¯åœ¨ Colab ä¸­åŠ è½½ä»£ç å¹¶è¿è¡Œã€‚
2. **ç¯å¢ƒé…ç½®ç®€å•**  
   - å…è´¹ GPU/TPU æ”¯æŒï¼šåœ¨ Colab çš„èœå•æ é€‰æ‹© `Runtime â†’ Change runtime type â†’ GPU` å³å¯å¯ç”¨åŠ é€Ÿï¼›  
   - ä¾èµ–å®‰è£…ï¼šé€šè¿‡ `!pip install transformers datasets` ä¸€é”®å®‰è£… Hugging Face åº“ï¼›  
   - ç™»å½• Hugging Faceï¼šä½¿ç”¨ `huggingface-cli login` æˆ–ä»£ç ä¸­çš„ `login()` å‡½æ•°é…ç½® tokenï¼Œç”¨äºä¸‹è½½ç§æœ‰æ¨¡å‹æˆ–ä¸Šä¼ ç»“æœã€‚
3. **è°ƒè¯•ä¸å¼€å‘æµç¨‹**  
   - æ”¯æŒ Python è°ƒè¯•å·¥å…·ï¼ˆå¦‚ `pdb`ï¼‰ï¼›  
   - å¯é…åˆ `%%debug` é­”æœ¯å‘½ä»¤è¿›è¡Œé€è¡Œè°ƒè¯•ï¼›  
   - ç›´æ¥è¾“å‡ºä¸­é—´å˜é‡ã€æ¢¯åº¦å€¼ç­‰ï¼Œé€‚åˆæ¨¡å‹å­¦ä¹ é˜¶æ®µçš„å®éªŒã€‚

### ğŸŒ äºŒã€å…¶ä»–æ”¯æŒ PyTorch åœ¨çº¿ç¼–å†™/è°ƒè¯•çš„å¹³å°
å¦‚æœä½ å¸Œæœ›å°è¯•æ›´å¤šç¯å¢ƒï¼Œä»¥ä¸‹å¹³å°ä¹Ÿå€¼å¾—å…³æ³¨ï¼š

| **å¹³å°**       | **æ˜¯å¦æ”¯æŒPyTorch** | **æ˜¯å¦æ”¯æŒè°ƒè¯•** | **GPUæ”¯æŒ** | **é›†æˆHugging Face** | **é€‚ç”¨åœºæ™¯**         |
|----------------|---------------------|------------------|-------------|----------------------|----------------------|
| **Google Colab** | âœ“                   | âœ“ (åŸºç¡€è°ƒè¯•)     | âœ“ (å…è´¹)    | âœ“ (æ·±åº¦é›†æˆ)         | å­¦ä¹ ã€åŸå‹å¼€å‘       |
| **Kaggle Notebooks** | âœ“                | âœ“ (ç±»ä¼¼Colab)    | âœ“ (å…è´¹)    | âœ“ (æ”¯æŒæ¨¡å‹åº“)       | ç«èµ›ã€æ•°æ®é›†æ¢ç´¢     |
| **Baidu AI Studio** | âœ“                 | â–³ (éƒ¨åˆ†æ”¯æŒ)     | âœ“ (å…è´¹)    | âœ—                    | ä¸­æ–‡ç¯å¢ƒã€å›½å†…åŠ é€Ÿ   |
| **VS Code Web ç‰ˆ** | âœ“                 | âœ“ (å®Œæ•´è°ƒè¯•)     | â–³ (éœ€è‡ªå¤‡)  | âœ“ (é€šè¿‡æ’ä»¶)         | æ¥è¿‘æœ¬åœ°å¼€å‘ä½“éªŒ     |

1. **Kaggle Notebooks**  
   ç±»ä¼¼ Colabï¼Œæä¾›å…è´¹ GPU å’Œé¢„è£… PyTorch ç¯å¢ƒï¼Œé€‚åˆæ•°æ®ç«èµ›æˆ–æ•°æ®é›†æ¢ç´¢ï¼Œä½† Hugging Face é›†æˆç•¥å¼±äº Colabã€‚
2. **Baidu AI Studio**  
   å›½å†…å¹³å°ï¼Œæä¾›å…è´¹ GPU ç®—åŠ›ï¼ˆå¦‚ V100ï¼‰ï¼Œé¢„è£… PyTorchï¼Œé€‚åˆä¸­æ–‡ç”¨æˆ·æˆ–éœ€è¦å›½å†…ç½‘ç»œåŠ é€Ÿçš„åœºæ™¯ï¼Œä½†è°ƒè¯•åŠŸèƒ½è¾ƒåŸºç¡€ã€‚
3. **VS Code Web ç‰ˆï¼ˆå¦‚ github.devï¼‰**  
   æ”¯æŒåœ¨æµè§ˆå™¨ä¸­è¿è¡Œ VS Codeï¼Œé…åˆ Jupyter æ‰©å±•å¯è°ƒè¯• PyTorchï¼Œéœ€è‡ªè¡Œé…ç½® GPU ç¯å¢ƒï¼ˆå¦‚è¿æ¥äº‘ä¸»æœºï¼‰ï¼Œçµæ´»æ€§é«˜ä½†é—¨æ§›ç¨é«˜ã€‚

### ğŸ’ ä¸‰ã€è°ƒè¯•æŠ€å·§è¡¥å……
æ— è®ºä½¿ç”¨å“ªä¸ªå¹³å°ï¼Œä»¥ä¸‹æ–¹æ³•èƒ½æå‡è°ƒè¯•æ•ˆç‡ï¼š 
 
- **PyTorch åŸç”Ÿå·¥å…·**ï¼šä½¿ç”¨ `torch.autograd.gradcheck` éªŒè¯æ¢¯åº¦è®¡ç®—ï¼›  
- **å¼‚å¸¸å®šä½**ï¼šç»“åˆ CUDA é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚ `CUDA_LAUNCH_BLOCKING=1`ï¼‰å®šä½ GPU å†…å­˜é—®é¢˜ï¼›  
- **Hugging Face ç‰¹å®šè°ƒè¯•**ï¼šé€šè¿‡ `pipeline(..., device_map="auto")` è‡ªåŠ¨åˆ†é…å¤š GPU è´Ÿè½½ã€‚

### ğŸ’ å››ã€æ€»ç»“ï¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ

- **å…¥é—¨/å¿«é€Ÿå®éªŒ â†’ Hugging Face Notebooks + Colab**ï¼šå®˜æ–¹èµ„æºä¸°å¯Œï¼Œç¯å¢ƒå¼€ç®±å³ç”¨ï¼›  
- **æ·±åº¦è°ƒè¯•/è‡ªå®šä¹‰ç¯å¢ƒ â†’ VS Code Web + äº‘ä¸»æœº**ï¼šé€‚åˆå¤æ‚é¡¹ç›®ï¼›  
- **å›½å†…ç½‘ç»œç¯å¢ƒ â†’ Baidu AI Studio**ï¼šé¿å…ä¸‹è½½æ¨¡å‹æ—¶çš„å»¶è¿Ÿé—®é¢˜ã€‚  

> è¦ç«‹å³å°è¯• Hugging Face æ¡ˆä¾‹ï¼Œå¯è®¿é—® [Hugging Face Notebooks é¡µé¢](https://huggingface.co/docs/transformers/notebooks)ï¼Œä»»æ„ç‚¹å‡»ä¸€ä¸ªä»»åŠ¡ï¼ˆå¦‚ â€œtext-classificationâ€ï¼‰ï¼Œç”¨ â€œOpen in Colabâ€ æŒ‰é’®å³å¯è¿›å…¥å¯è¿è¡Œç¯å¢ƒã€‚










## å…³è”èµ„æ–™

* [https://huggingface.co/learn](https://huggingface.co/learn)


































[NingG]:    http://ningg.github.io  "NingG"










