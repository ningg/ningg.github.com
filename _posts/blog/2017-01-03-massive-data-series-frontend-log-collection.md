---
layout: post
title: 数据平台系列：前端埋点技术方案
description: 前端埋点、后端埋点，有什么差异？适用场景有哪些？前端埋点的技术方案，通用架构是什么？
published: true
category: 数据平台
---

## 1. 背景

要收集用户的行为数据、用户终端信息数据，2 类思路：

1. 前端/客户端埋点
1. 后端埋点

后端埋点，对用户的影响更小，不需要用户端额外发送请求；但后端埋点，无法感知代理服务器的存在。

因此，实际应用环境中，采用`前端埋点`+`后端埋点`的组合方式，收集用户行为数据。


||优势|劣势|适用场景|
|:----:|:----|:----|:----|
|前端埋点|**松耦合**：跟业务代码解耦|**低精度**：丢失率较高：8%-10%|产品效果追踪|
|后端埋点|**高精度**：基本不会丢失|**紧耦合**：跟业务代码耦合在一起|关键业务数据统计|


当前 blog，关注**前端埋点**的注意事项。

## 2. 前端埋点

**疑问：客户端收集到需要上报的事件后，是否立即上报？**

* Re：**区分事件**，有的立即上报，有的延迟上报，暂存在 local storage 中



### 2.1. 上报服务

数据上报服务，基本架构：


![](/images/massive-data/data-report-demo.png)


### 2.2. 术语解释

关于其中提到的 MGE \ MPT 术语，其含义为：

![](/images/massive-data/data-report-term-explanation.png)







[NingG]:    http://ningg.github.com  "NingG"










